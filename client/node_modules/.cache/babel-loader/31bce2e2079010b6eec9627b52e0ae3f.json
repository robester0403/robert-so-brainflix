{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\Brainstation\\\\robert-so-brainflix\\\\client\\\\src\\\\pages\\\\Home\\\\Home.jsx\";\nimport axios from 'axios';\nimport { Component } from 'react';\nimport VidPlayer from '../../components/VidPlayer/VidPlayer';\nimport Main from '../../components/Main/Main';\nimport CommentsList from '../../components/CommentsList/CommentsList';\nimport NextVidList from '../../components/NextVidList/NextVidList';\nimport './Home.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      videos: [],\n      selectedVideo: {}\n    };\n\n    this.getSelectedVideo = videoId => {\n      axios.get(`http://localhost:8080/api/videos/${videoId}`).then(response => {\n        this.setState({\n          selectedVideo: response.data\n        });\n        this.scrollToTop;\n      }).catch(error => console.log(error));\n    };\n  }\n\n  scrollToTop() {\n    window.scrollTo({\n      top: 0,\n      behavior: \"smooth\"\n    });\n  }\n\n  componentDidMount() {\n    axios.get(`http://localhost:8080/api/videos`).then(response => {\n      const videoId = this.props.match.params.videoId || response.data[0].id;\n      this.setState({\n        videos: response.data\n      });\n      this.getSelectedVideo(videoId);\n    }).catch(error => console.log(error));\n  }\n\n  componentDidUpdate(previousProps) {\n    const previousVideoId = previousProps.match.params.videoId;\n    const currentVideoId = this.props.match.params.videoId;\n\n    if (previousVideoId !== currentVideoId) {\n      this.getSelectedVideo(currentVideoId);\n    }\n  }\n\n  render() {\n    const filteredList = this.state.videos.filter(response => response.id !== this.state.selectedVideo.id);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(VidPlayer, {\n        selectedVideo: this.state.selectedVideo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"main-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"article\", {\n          children: [/*#__PURE__*/_jsxDEV(Main, {\n            selectedVideo: this.state.selectedVideo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), this.state.selectedVideo.comments && /*#__PURE__*/_jsxDEV(CommentsList, {\n            comments: this.state.selectedVideo.comments\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 51\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n          className: \"main-content__next-vid-box\",\n          children: this.state.videos && /*#__PURE__*/_jsxDEV(NextVidList, {\n            nextVideos: filteredList\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 35\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["C:/Projects/Brainstation/robert-so-brainflix/client/src/pages/Home/Home.jsx"],"names":["axios","Component","VidPlayer","Main","CommentsList","NextVidList","Home","state","videos","selectedVideo","getSelectedVideo","videoId","get","then","response","setState","data","scrollToTop","catch","error","console","log","window","scrollTo","top","behavior","componentDidMount","props","match","params","id","componentDidUpdate","previousProps","previousVideoId","currentVideoId","render","filteredList","filter","comments"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { Component } from 'react';\r\nimport VidPlayer from '../../components/VidPlayer/VidPlayer';\r\nimport Main from '../../components/Main/Main';\r\nimport CommentsList from '../../components/CommentsList/CommentsList';\r\nimport NextVidList from '../../components/NextVidList/NextVidList';\r\nimport './Home.scss';\r\n\r\nclass Home extends Component {\r\n  state = {\r\n    videos : [],\r\n    selectedVideo: {},\r\n  };\r\n\r\n  scrollToTop() {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: \"smooth\"\r\n    });\r\n  }\r\n  getSelectedVideo = (videoId) => {\r\n\r\n    axios.get(`http://localhost:8080/api/videos/${videoId}`)\r\n  .then((response) => {\r\n    this.setState({\r\n      selectedVideo: response.data\r\n    })\r\n    this.scrollToTop\r\n  })\r\n  .catch((error)=> console.log(error))\r\n}\r\n\r\n  componentDidMount() {\r\n\r\n    axios.get(`http://localhost:8080/api/videos`)\r\n    .then((response)=> {\r\n      const videoId = this.props.match.params.videoId || response.data[0].id;\r\n        this.setState({\r\n            videos: response.data\r\n        })\r\n        this.getSelectedVideo(videoId)\r\n    })\r\n    .catch((error)=> console.log(error) )\r\n  }\r\n\r\n  componentDidUpdate(previousProps) {\r\n    const previousVideoId = previousProps.match.params.videoId\r\n    const currentVideoId = this.props.match.params.videoId\r\n    if(previousVideoId !== currentVideoId) {\r\n        this.getSelectedVideo(currentVideoId) \r\n    }\r\n  }\r\n\r\n  render() {\r\n    const filteredList = this.state.videos.filter(response => response.id !== this.state.selectedVideo.id);\r\n    return (\r\n      <>\r\n        <VidPlayer\r\n        selectedVideo={this.state.selectedVideo}\r\n        />\r\n        <section className=\"main-content\">\r\n          <article>\r\n            <Main selectedVideo={this.state.selectedVideo}/>\r\n            {this.state.selectedVideo.comments && <CommentsList\r\n                comments={this.state.selectedVideo.comments}\r\n            />}\r\n          </article>\r\n          <article className=\"main-content__next-vid-box\">\r\n            {this.state.videos && <NextVidList\r\n              nextVideos={filteredList}\r\n            /> }\r\n          </article>\r\n        </section>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}