{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\Brainstation\\\\robert-so-brainflix\\\\client\\\\src\\\\pages\\\\Home\\\\Home.jsx\";\nimport axios from 'axios';\nimport { Component } from 'react';\nimport Hero from '../../components/Hero/Hero';\nimport Main from '../../components/Main/Main';\nimport CommentsList from '../../components/CommentsList/CommentsList';\nimport NextList from '../../components/NextList/NextList';\nimport './Home.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = \"https://project-2-api.herokuapp.com\";\nconst API_KEY_STRING = \"?api_key=<78719564-cc2a-4348-85e3-b4d530c557d7>\";\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      videos: [],\n      selectedVideo: {}\n    };\n\n    this.getSelectedVideo = videoId => {\n      axios.get(`${API_URL}/videos/${videoId}${API_KEY_STRING}`).then(response => {\n        this.setState({\n          selectedVideo: response.data\n        });\n      }).catch(error => console.log(error));\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"hello, this component has mounted\");\n    axios.get(`${API_URL}/videos${API_KEY_STRING}`).then(response => {\n      const videoId = this.props.match.params.videoId || response.data[0].id;\n      this.setState({\n        videos: response.data\n      });\n      this.getSelectedVideo(videoId);\n    }).catch(error => console.log(error));\n  }\n\n  componentDidUpdate(previousProps) {\n    const previousVideoId = previousProps.match.params.videoId;\n    const currentVideoId = this.props.match.params.videoId;\n    console.log(previousVideoId === currentVideoId);\n\n    if (previousVideoId !== currentVideoId) {\n      this.getSelectedVideo(currentVideoId);\n    }\n  }\n\n  render() {\n    const filteredList = this.state.videos.filter(response => response.id !== this.state.selectedVideo.id);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Hero, {\n        selectedVideo: this.state.selectedVideo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"main-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"article\", {\n          children: [/*#__PURE__*/_jsxDEV(Main, {\n            selectedVideo: this.state.selectedVideo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), this.state.selectedVideo.comments && /*#__PURE__*/_jsxDEV(CommentsList, {\n            comments: this.state.selectedVideo.comments\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 51\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n          className: \"main-content__next-vid-box\",\n          children: this.state.videos && /*#__PURE__*/_jsxDEV(NextList, {\n            onVideoSelect: this.state.selectedVideo,\n            nextVideos: filteredList\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 35\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["C:/Projects/Brainstation/robert-so-brainflix/client/src/pages/Home/Home.jsx"],"names":["axios","Component","Hero","Main","CommentsList","NextList","API_URL","API_KEY_STRING","Home","state","videos","selectedVideo","getSelectedVideo","videoId","get","then","response","setState","data","catch","error","console","log","componentDidMount","props","match","params","id","componentDidUpdate","previousProps","previousVideoId","currentVideoId","render","filteredList","filter","comments"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { Component } from 'react';\r\nimport Hero from '../../components/Hero/Hero';\r\nimport Main from '../../components/Main/Main';\r\nimport CommentsList from '../../components/CommentsList/CommentsList';\r\nimport NextList from '../../components/NextList/NextList';\r\nimport './Home.scss';\r\n\r\nconst API_URL = \"https://project-2-api.herokuapp.com\" \r\nconst API_KEY_STRING = \"?api_key=<78719564-cc2a-4348-85e3-b4d530c557d7>\"\r\n\r\nclass Home extends Component {\r\n  state = {\r\n    videos : [],\r\n    selectedVideo: {},\r\n  };\r\n\r\n  getSelectedVideo = (videoId) => {\r\n    axios.get(`${API_URL}/videos/${videoId}${API_KEY_STRING}`)\r\n  .then((response) => {\r\n    this.setState({\r\n      selectedVideo: response.data\r\n    })\r\n  })\r\n  .catch((error)=> console.log(error))\r\n}\r\n\r\n  componentDidMount() {\r\n    console.log(\"hello, this component has mounted\")\r\n\r\n    axios.get(`${API_URL}/videos${API_KEY_STRING}`)\r\n    .then((response)=> {\r\n      const videoId = this.props.match.params.videoId || response.data[0].id;\r\n        this.setState({\r\n            videos: response.data\r\n        })\r\n        this.getSelectedVideo(videoId)\r\n    })\r\n    .catch((error)=> console.log(error) )\r\n  }\r\n\r\n  componentDidUpdate(previousProps) {\r\n    const previousVideoId = previousProps.match.params.videoId\r\n    const currentVideoId = this.props.match.params.videoId\r\n    console.log(previousVideoId === currentVideoId)\r\n    if(previousVideoId !== currentVideoId) {\r\n        this.getSelectedVideo(currentVideoId) \r\n    }\r\n  }\r\n\r\n  render() {\r\n    const filteredList = this.state.videos.filter(response => response.id !== this.state.selectedVideo.id);\r\n    return (\r\n      <>\r\n        <Hero\r\n        selectedVideo={this.state.selectedVideo}\r\n        />\r\n        <section className=\"main-content\">\r\n          <article>\r\n            <Main selectedVideo={this.state.selectedVideo}/>\r\n            {this.state.selectedVideo.comments && <CommentsList\r\n                comments={this.state.selectedVideo.comments}\r\n            />}\r\n          </article>\r\n          <article className=\"main-content__next-vid-box\">\r\n            {this.state.videos && <NextList\r\n              onVideoSelect={this.state.selectedVideo}\r\n              nextVideos={filteredList}\r\n            /> }\r\n          </article>\r\n        </section>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}